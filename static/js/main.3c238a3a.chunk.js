(this["webpackJsonpcheck-request"]=this["webpackJsonpcheck-request"]||[]).push([[0],{95:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(31),o=n.n(c),u=n(15),i=n(151),l=n(146),s=n(152),b=n(150),j=n(145),h=n(5),d=n(24),v=n(16),f=n(139),p=n(140),m=n(136),O=n(138),x=n(149),y=n(143),g=n(144),k=function(e,t,n){var r=Object(d.a)(n);return r[e]=t(r[e]),r},C=function(e,t){var n=Object(d.a)(t);return n.splice(e,1),n},w=n(2),A={select:function(e){var t=e.label,n=e.value,r=void 0===n?"":n,a=e.error,c=e.options,o=e.onChange;return Object(w.jsxs)(f.a,{fullWidth:!0,error:!!a,children:[Object(w.jsx)(p.a,{children:t}),Object(w.jsx)(m.a,{label:t,onChange:o,value:r,children:c.map((function(e){return Object(w.jsx)(O.a,{value:e,children:e},e)}))}),a&&Object(w.jsx)(x.a,{children:a})]})},text:function(e){var t=e.label,n=e.type,r=e.error,a=e.value,c=void 0===a?"":a,o=e.onChange,u=e.props;return Object(w.jsx)(y.a,Object(v.a)({fullWidth:!0,error:!!r,helperText:r},Object(v.a)({label:t,type:n,value:c,onChange:o},u)))},rows:function(e){var t=e.blankRow,n=e.value,r=e.onChange;return Object(w.jsxs)(w.Fragment,{children:[n.map((function(e,t){return Object(w.jsx)(g.a,{container:!0,item:!0,spacing:1,children:Object(w.jsx)(q,{fields:e,onChange:function(e){r({target:{value:k(t,e,n)}})},children:Object(w.jsx)(g.a,{item:!0,sm:1,children:Object(w.jsx)(j.a,{sx:{width:"100%",height:"100%"},onClick:function(){return r({target:{value:C(t,n)}})},children:"Delete"})})})},t)})),Object(w.jsx)(j.a,{onClick:function(){return r({target:{value:[].concat(Object(d.a)(n),[t])}})},children:"Add Row"})]})},calculated:function(e){var t=e.label,n=e.value,r=e.formatter,a=void 0===r?function(e){return e}:r;return Object(w.jsx)(b.a,{children:Object(w.jsxs)("strong",{children:[t,": ",a(n)]})})}},R=function(e){if(e.hide)return null;var t=A[e.type]||A.text;return Object(w.jsx)(t,Object(v.a)({},e))},q=function(e){var t=e.fields,n=e.onChange,r=e.children;return Object(w.jsxs)(g.a,{container:!0,children:[Object.entries(t).map((function(e){var t=Object(u.a)(e,2),r=t[0],a=t[1];return Object(w.jsx)(g.a,{item:!0,p:1,xs:12,sm:a.columns,children:Object(w.jsx)(R,Object(v.a)(Object(v.a)({},a),{},{onChange:function(e){n((function(t){return Object(v.a)(Object(v.a)({},t),{},Object(h.a)({},r,Object(v.a)(Object(v.a)({},t[r]),{},{value:e.target.value,error:void 0})))}))}}))},r)})),r]})},P=function(e){return!e.hide},S=function e(t){return P(t)&&(function(){return!String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim().length}(t.value)||Array.isArray(t.value)&&t.value.some((function(t){return Object.values(t).some(e)})))},D=function e(t){return function(e,t){var n=Array.isArray(t)?[]:{};for(var r in t)n[r]=e(t[r],r);return n}((function(t){return Array.isArray(t.value)?Object(v.a)(Object(v.a)({},t),{},{value:t.value.map(e)}):Object(v.a)(Object(v.a)({},t),{},{error:S(t)&&"Required"})}),t)},F=function e(t){return Object.values(t).filter(P).map((function(t){var n=t.label,r=t.value,a=t.formatter,c=void 0===a?function(e){return e}:a;return Array.isArray(r)?"\r\n".concat(r.map((function(t){return e(t)})).join("\r\n\r\n"),"\r\n"):"".concat(n,": ").concat(c(r))})).join("\r\n")},M=function(e,t){if(Object.values(e).some(S))t(D);else{var n=(new Date).toLocaleString(),r=F(e),a=encodeURIComponent("Date: ".concat(n,"\r\n").concat(r,"\r\n\r\nREMINDER: Attach relevant files."));window.open("mailto:chatham.ap@gmail.com?cc=chathamit@chathambiblechurch.org&subject=Check Request&body=".concat(a))}},T=n(44),E=n.n(T),I=n(61),N=function(e){return"$"+Number(e).toLocaleString()},Q=function(){var e=Object(I.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vQBAv7s2hKsbFKPuv8qZ8z0rAgsE_5ZPwP8rGY527yIfMLjOs9Foy-Z4Tj54SFYti7I4QvTYnmQQIQa/pub?output=tsv");case 2:return t=e.sent,e.next=5,t.text();case 5:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.split("\n").map((function(e){return e.trim()})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(I.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0={label:"Requestor Name",type:"text",columns:6},e.t1={label:"Make Check Payable To",type:"text",columns:6},e.next=4,Q();case 4:return e.t2=e.sent,e.t3={label:"Account",type:"select",columns:4,options:e.t2},e.t4={label:"Explanation",type:"text",columns:5,props:{multiline:!0}},e.t5={label:"Amount",type:"number",columns:2,formatter:N},e.t6={account:e.t3,explanation:e.t4,amount:e.t5},e.t7=function(e){var t;return!(null===(t=e.list.value)||void 0===t?void 0:t.length)&&{value:[e.list.blankRow]}},e.t8={label:"list",type:"rows",blankRow:e.t6,update:e.t7},e.t9={label:"Total",type:"calculated",formatter:N,update:function(e){var t,n,r=null===(n=null===(t=e.list.value)||void 0===t?void 0:t.map((function(e){return e.amount.value})))||void 0===n?void 0:n.reduce((function(e,t){return e+(Number(t)||0)}),0);return r!==e.total.value&&{value:r}}},e.t10={label:"Check Delivery",type:"select",columns:6,options:["Mail Check","Give Check to Requestor","Place Check in Requestor's Folder"]},e.t11={label:"Address",type:"text",columns:6,update:function(e){var t="Mail Check"!==e.checkDelivery.value;return e.address.hide!==t&&{hide:t}}},e.abrupt("return",{requestorName:e.t0,makeCheckPayableTo:e.t1,list:e.t8,total:e.t9,checkDelivery:e.t10,address:e.t11});case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function L(){var e=Object(r.useState)(),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){W().then(a)}),[]),n?(function(e,t){var n=function(n){var r,a=e[n],c=null===(r=a.update)||void 0===r?void 0:r.call(a,e);c&&t((function(e){return Object(v.a)(Object(v.a)({},e),{},Object(h.a)({},n,Object(v.a)(Object(v.a)({},e[n]),c)))}))};for(var r in e)n(r)}(n,a),Object(w.jsxs)(s.a,{maxWidth:"md",children:[Object(w.jsx)(b.a,{p:1,variant:"h4",children:"Check Request Form"}),Object(w.jsx)(q,{fields:n,onChange:a}),Object(w.jsx)(b.a,{p:1,children:'Pressing "Submit" will create an email ready to be sent.'}),Object(w.jsx)(b.a,{p:1,children:Object(w.jsx)("strong",{children:"Please attach any necessary documents or receipts to the email before sending."})}),Object(w.jsx)(i.a,{p:1,children:Object(w.jsx)(j.a,{variant:"contained",onClick:function(){return M(n,a)},children:"Submit"})}),Object(w.jsx)(b.a,{p:1,children:"When you have sent the email, you may close this page."}),Object(w.jsx)("a",{style:{position:"fixed",right:2,bottom:2,font:"12px sans-serif"},href:"mailto:chathamit@chathambiblechurch.org?subject=Check Request Bug Report",children:"Report a Problem"})]})):Object(w.jsx)(i.a,{sx:{display:"flex",justifyContent:"center",padding:20},children:Object(w.jsx)(l.a,{size:100})})}o.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(L,{})}),document.querySelector("#root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.3c238a3a.chunk.js.map